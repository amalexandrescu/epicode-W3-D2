<html>
  <head>
    <style>
      .myHeading {
        color: red;
      }

      .hideUl {
        visibility: hidden;
      }
    </style>
  </head>

  <body>
    <div>
      <h1>This is the title of the page - DOM manipulation</h1>
      <h2>This is the subtitle of the page - Exercise inputs and events</h2>
    </div>

    <div>
      <hr />

      <ul id="firstList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <ul id="secondList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <a href="https://epicode.it">This link goes to Epicode</a>

      <div>
        <p>This text is just for the exercise</p>
      </div>

      <div>
        <input
          type="text"
          id="input-field"
          placeholder="input field for the exercise"
        />
      </div>
    </div>

    <div>
      <p>And this text is just for the exercise too!</p>
      <h2 style="color: red">
        Save this page on your computer and open it with VSCode to get the
        questions!
      </h2>
    </div>
    <script>
      /* EXERCISE 1
       Write a function for changing the title of the document in something else.
      */

      const changeTitle = function (newTitle) {
        const title = document.querySelector("h1");
        title.innerText = newTitle;
      };

      /* EXERCISE 2
       Write a function for changing the class of the title of the page in "myHeading".
      */

      const addClassToTitle = function () {
        const h1Title = document.getElementsByTagName("h1");
        console.log(h1Title);
        h1Title[0].classList.add("myHeading");

        //OR an alternative solution:

        // h1Title[0].className += "myHeading";
      };

      /* EXERCISE 3
       Write a function for changing the text of only the p which are children of a div.
      */

      const changePcontent = function () {
        const pChild = document.querySelectorAll("div p");
        // console.log(pChild);
        for (let node of pChild) {
          node.innerText =
            "I've changed the text of the paragraphs which are children of a div";
        }
      };

      /* EXERCISE 4
       Write a function for changing the href property of every link to https://www.google.com
      */

      const changeUrls = function () {
        const aTags = document.querySelectorAll("a");
        // console.log(aTags[0].href);
        aTags[0].href = "https://www.google.com";
        aTags[0].innerText =
          "I've changed the content just to know that now you are linked to a google url, not to the Epicode one";

        //for all a tags:
        // for (let node of aTags) node.href = "https://www.google.com";
      };

      /* EXERCISE 5
       Write a function for adding a new list item in the second unordered list.
      */

      const addToTheSecond = function (content) {
        // const secUlList = document.querySelector("div ul:nth-child(2)");
        // console.log("my sec ul:", secUlList);
        const secondUlList = document.getElementById("secondList");
        // console.log(secondUlList);
        const newLi = document.createElement("li");
        newLi.innerText = content;
        secondUlList.appendChild(newLi);
      };

      /* EXERCISE 6
       Write a function for adding a second paragraph to the first div.
      */

      const addParagraph = function (content) {
        const firstDiv = document.querySelector("div");
        // console.log(firstDiv);
        const newP = document.createElement("p");
        newP.innerText = content;
        firstDiv.appendChild(newP);
      };

      /* EXERCISE 7
       Write a function for making the first unordered list disappear.
      */

      const firstUlDisappear = function () {
        const firstUlList = document.getElementById("firstList");
        console.log(firstUlList);
        firstUlList.classList.toggle("hideUl");
      };

      /* EXERCISE 8
       Write a function for making the background of every unordered list green.
      */

      const paintItGreen = function () {
        const allUl = document.getElementsByTagName("ul");
        for (let node of allUl) {
          node.style.backgroundColor = "green";
        }
      };

      /* EXERCISE 9
       Make the heading of the page change color every time the user clicks on it.
      */

      const randomColor = function () {
        const letters = "0123456789ABCDEF";
        let color = "#";
        for (let i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
      };

      const heading = document.querySelector("h1");

      const makeItClickable = function () {
        let color = randomColor();
        heading.style.color = color;
      };

      heading.addEventListener("click", makeItClickable);

      /* EXERCISE 10
       Change the footer text with something else when the user clicks on it.
      */

      const divList = document.getElementsByTagName("div");
      // console.log(divList);
      const lastDiv = divList[divList.length - 1];
      const footer = lastDiv.querySelector("div h2");
      // console.log("footer", footer);

      const changeFooterText = function () {
        footer.innerText = "I've changed the footer on click";
      };

      footer.addEventListener("click", changeFooterText);

      /* EXERCISE 11
       Attach an event listener to the input field in the page that changes the text of the page's subtitle
      */

      const inputField = document.getElementById("input-field");
      const h2Subtitle = document.querySelector("h2");

      const getInputText = function (event) {
        let inputText = event.target.value;
        return inputText;
      };

      inputField.addEventListener("input", getInputText);

      const changeSubtitleText = function () {
        let text = getInputText(event);
        h2Subtitle.innerText = text;
      };

      inputField.addEventListener("change", changeSubtitleText);

      /* EXERCISE 12
           Create a welcome alert message when the page successfully loads.
      */

      window.onload = function () {
        alert("Page successfully loaded");
      };

      /* EXERCISE 13
       Use HTML5 tags to properly provide semantic meaning to the different portions of the page.
      */

      /* ### EXTRA ###  EXERCISE 14
       Create an input of type "color" and use it to change the color of the subtitle
      */

      const newInputElement = document.createElement("input");
      newInputElement.setAttribute("type", "color");
      newInputElement.setAttribute("id", "my-input");
      newInputElement.setAttribute("placeholder", "Write something here");
      document.body.appendChild(newInputElement);

      const changeSubtitleColorFromInput = function (event) {
        console.log(event.target.value);
        const currentInputColor = event.target.value;
        h2Subtitle.style.color = currentInputColor;
      };

      newInputElement.addEventListener("change", changeSubtitleColorFromInput);
    </script>
  </body>
</html>
